{% extends 'AnticomShowcaseBundle::base.html.twig' %}
{% import "AnticomShowcaseBundle::_macros.html.twig" as tools %}
{% import "AnticomShowcaseBundle:Blog:_macros.html.twig" as macros %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading be-heading">
                    <h1>
                        <strong>{{ blogEntry.title }}</strong>
                    </h1>

                    <p>
                        <span class="glyphicon glyphicon-user"></span> by <a href="#">{{ blogEntry.author.username }}</a>
                        | <span class="glyphicon glyphicon-calendar"></span> {{ tools.entryDate(blogEntry.dateTimeCreated) }}
                    </p>
                </div>
                <div class="panel-body">
                    {{ blogEntry.body|raw }}
                </div>
            </div>
        </div>
    </div>

    <ul class="pager">
        {% if prev %}
            <li class="previous"><a href="{{ path('anticom_showcase_blog_show', {'id': prev.id}) }}">&larr; Vorheriger Eintrag</a></li>
        {% else %}
            <li class="previous disabled"><span>&larr; Vorheriger Eintrag</span></li>
        {% endif %}
        {% if next %}
            <li class="next"><a href="{{ path('anticom_showcase_blog_show', {'id': next.id}) }}">Nächster Eintrag &rarr;</a></li>
        {% else %}
            <li class="next disabled"><span>Nächster Eintrag &rarr;</span></li>
        {% endif %}
    </ul>

    <div style="height: 20px;"></div>
    <h4 id="comments">Kommentare</h4>
    <hr>
    {% for comment in blogEntry.comments if comment.parent == null %}
        {{ macros.commentMedia(comment) }}
    {% endfor %}
    {% if app.user %}
        <div style="padding-top: 20px;">
            <a href="{{ path('anticom_showcase_comment_new', {'blogEntry': blogEntry.id}) }}#comments">Neuen kommentar verfassen</a>
        </div>
    {% endif %}
{% endblock %}